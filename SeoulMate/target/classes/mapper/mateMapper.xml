<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.seoulmate.home.dao.MateWriteDAO">
  	<insert id="mateInsert" parameterType="com.seoulmate.home.vo.MateWriteVO">
  		insert into matewrite(no, pno, userid, area, matePic1, deposit, rent, enterdate, minStay, maxStay,
  		writedate, enddate, matestate, mateProfile) 
		values (housematesq.nextval, #{pno}, #{userid}, '마포구 공덕동', #{matePic1},  #{deposit}, #{rent}, 
		#{enterdate}, #{minStay}, #{maxStay}, sysdate, sysdate+7, '모집중', #{mateProfile} )
  	</insert>
	<update id="mateUpdate" parameterType="com.seoulmate.home.vo.MateWriteVO">
		update matewrite set matePic1=#{matePic1}, deposit=#{deposit}, rent=#{rent}, enterdate=#{enterdate},
		minStay=#{minStay}, maxStay=#{maxStay}, mateProfile=#{mateProfile} where userid=#{userid} and pno=#{pno}
	</update>
<!-- 	<select id="mateNoSelect" resultType="int"> -->
<!-- 		select no from matewrite where userid=#{param1} -->
<!-- 	</select> -->
	<select id="mateSelect" resultType="com.seoulmate.home.vo.MateWriteVO">
		select no, pno, userid, area, matePic1, deposit, rent, enterdate, minStay, maxStay, writedate, enddate, matestate, mateProfile 
		from matewrite where userid=#{param1h}
	</select>
	<delete id="mateDel" parameterType="com.seoulmate.home.vo.MateWriteVO">
		delete from matewrite where no=#{param1} and userid=#{param2}	
	</delete>
	<select id="getNewIndexMate" resultType="com.seoulmate.home.vo.MateWriteVO">
  		<![CDATA[select * from (select * from matewrite where matestate='모집중' order by no desc) where rownum<= 9]]>
	</select>
  </mapper>