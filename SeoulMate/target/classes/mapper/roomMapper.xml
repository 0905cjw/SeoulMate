<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.seoulmate.home.dao.HouseRoomDAO">
  	<insert id="roomInsert" parameterType="com.seoulmate.home.vo.HouseRoomVO">
  		insert into houseroom(hno, no, roomName, deposit, rent, enterdate, minStay, maxStay, roomPeople, furniture, incFurniture, userid) 
		values (roomsq.nextval, housematesq.currval, #{roomName}, #{deposit}, #{rent}, #{enterdate}, #{minStay}, #{maxStay}, 
				#{roomPeople}, #{furniture}, #{incFurniture}, #{userid} )
  	</insert>
	<select id="roomSelect" resultType="com.seoulmate.home.vo.HouseRoomVO">
		select no, hno, userid, roomName, deposit, rent, to_char(enterdate, 'yyyy-mm-dd')enterdate, minStay, maxStay, roomPeople, furniture, incFurniture 
		from houseroom where no=#{param1} and userid=#{param2}
	</select>
	<select id="roomSelect2" resultType="com.seoulmate.home.vo.HouseRoomVO">
		select no, hno, userid, roomName, deposit, rent, enterdate, minStay, maxStay, roomPeople, furniture, incFurniture 
		from houseroom where no=#{param1}
	</select>
	<update id="roomUpdate" parameterType="com.seoulmate.home.vo.HouseRoomVO">
		update houseroom set roomName=#{roomName}, deposit=#{deposit}, rent=#{rent}, enterdate=#{enterdate}, minStay=#{minStay},
		maxStay=#{maxStay}, roomPeople=#{roomPeople}, furniture=#{furniture}, incFurniture=#{incFurniture} where userid=#{userid} and no=#{no}
	</update>
	<delete id="roomDel" parameterType="com.seoulmate.home.vo.HouseRoomVO">
		delete from houseroom where no=#{param1} and userid=#{param2}	
	</delete>
	<select id="roomListSelect" parameterType="int" resultType="com.seoulmate.home.vo.HouseRoomVO" >
		select no, hno, userid, roomName, deposit, rent, to_char(enterdate,'YYYY-MM-DD') as enterdate, minStay, maxStay, roomPeople, furniture, incFurniture 
		from houseroom where no=#{param1 }
	</select>
  </mapper>